---
import { getCollection } from 'astro:content';
import BlogPostPreview from './BlogPostPreview.svelte';

const posts = (await getCollection('blog'))
.filter((post) => !post.data.draft)
.sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
).slice(0,3);
---

{
  posts.map((post) => (
    <BlogPostPreview post={post} />
  ))
}